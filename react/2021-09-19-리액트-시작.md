# 2021-09-19-Sun

<br/>

## 1. 리액트 시작

### 🌴 리액트를 공부하게 된 계기

다른 사람들과 프론트엔드, 백엔드가 협업하는  
쇼핑몰 페이지를 구현해보기로 했는데  
SPA 페이지를 구현하기 위해  
리액트 라이브러리를 사용하기로 논의되어  
리액트 공부를 시작하게 되었다.

<br/>

요즘 핫한 라이브러리기도 해서 관심이 생겼다.  
아무렇지 않게 스크롤을 무한으로 내리며 쓰던 SPA를  
직접 구현하는 상상을 하니 기분이 좋다. 🦔 🍁

<br/>
<br/>
<br/>
<br/>

### 🌴 개요

보통의 프레임워크는 MVC, MVVM 아케틱처를 사용한다.  
애플리케이션에서 사용하는 데이터를 관리하는 영역인 **모델**과  
사용자에게 보이는 **뷰**,  
사용자에게서 입력을 받아 모델 데이터를 조회/수정, 변경사항 반영을 하는 **컨트롤러**!  
이 중 리액트는 뷰만 신경쓰는 **라이브러리**이다.

<br/>

페이스북 개발 팀은 성능을 아끼고 사용자 경험을 편하게 하기 위해  
이 리액트를 개발했다고 한다.

> 우리는 다음 문제를 해결하려고 리액트를 만들었습니다.
> **지속적으로 데이터가 변화하는 대규모 애플리케이션 구축하기**

<br/>
<br/>
<br/>
<br/>

### 🌳 라이브러리와 프레임워크의 차이점

**리액트는 프레임워크가 아닌 라이브러리**라고 강조하는데,  
그렇다면 라이브러리와 프레임워크의 정확한 의미부터 알아야 하겠다.

<br/>

**프레임워크**는 뼈대, 기반이 되는 구조라는 뜻이 있다.  
완제품이 아닌, 프로그래머가 완성 작업을 해야 한다.  
추상화를 제공하는 클래스와 재사용이 가능한 컴포넌트로 구성된다.

<br/>

**라이브러리**는 단순하게 활용할 수 있는 도구들이다.  
개발자가 클래스를 만들면 호출해서 사용한다.

<br/>

이 둘의 차이는 **제어의 주체**에 있다.  
프레임워크는 프레임워크 자신이 제어 주체이며,  
그 안에 필요한 코드를 개발자가 작성한다.  
라이브러리는 개발자가 제어 주체이며,  
필요할 때 라이브러리를 가져다 쓴다.

<br/>

즉, 프레임워크 안에 들어가서 코드를 작성하는지,  
코드에 라이브러리를 가져다 쓰는지의 차이라고 볼 수 있겠다.  
이에 대한 확실한 느낌은 라이브러리와 프레임워크 둘 다를 써보아야 알 것 같다.

<br/>
<br/>
<br/>
<br/>

### 🌳 새로 렌더링한다!

렌더링이란 사용자에게 뷰를 보여주는 것이다.  
보통은 내부 값을 업데이트시  
애플리케이션에서 해당 요소를 찾아 내부를 수정하는데,  
애플리케이션의 규모가 크면 클수록 성능이 떨어질 수 있다.  
그러므로 리액트는 위의 이유로 데이터가 변해도  
새로이 리렌더링하면서 성능도 아낀다.

<br/>

#### 🐛 초기 렌더링

`초기 렌더링`이란 맨 처음에 화면이 어떻게 보일지 정하는 것이다.  
리액트에서는 `render() {}`함수로 한다.

<br/>

render 함수는 `컴포넌트`가 어떻게 생겼는지 정의하는 역할인데,  
여기서의 컴포넌트는 리액트 프로젝트의 특정 부분이 어떻게 생겼는지 정의한다.  
html 문자열을 반환하는 템플릿과는 달리,  
뷰가 어떻게 생겼는지와 어떻게 작동하는지에 대한 객체를 반환한다.

<br/>

위와 같이 render() 함수를 실행하면  
최상위 컴포넌트의 렌더링 작업을 끝내고,  
가지고 있는 정보로 HTML 마크업을 생성한 후 페이지의 DOM 요소 안에 넣는다.  
_(DOM)_ : _객체로 문서 구조를 표현하는 방법, Document Object Model_

<br/>
<br/>

#### 🐛 업데이트는 어떻게 하는가?

리액트에서의 뷰 업데이트에서는 업데이트라기보다는 조화 과정을 한다고 한다.  
컴포넌트의 데이터에 변화가 있을 때, 뷰가 변형되는 것처럼 보이지만  
실제로는 새로운 요소로 바꾼다.  
즉 데이터가 업데이트되면, 값 수정이 아니라 새 데이터로 render()를 재호출하는 것이다.

<br/>

그리하여 자바스크립트로 최소한의 연산으로  
**이전 DOM트리와 새 DOM트리를 비교하여 변경된 부분만 DOM 트리를 업데이트한다.**  
루트 노드부터 전체 컴포넌트를 리렌더링하는 것이 아니라,  
최적의 자원으로 수행한다고 볼 수 있겠다.

<br/>

이 DOM 조작에 있어서, 웹 브라우저는 CSS를 다시 연산하고 페이지를 리페인트 하는데  
이 과정에서 시간이 오래 걸릴 수 있다.  
_그러므로 DOM이 느리다는 오해를 받기도 한다._

<br/>

**리액트는 Virtual DOM(가상 DOM)을 사용해서  
DOM을 추상화하고, 처리 횟수를 최소화하여 효율적으로 진행한다.**
위에 서술했던 새 DOM트리에서 Virtual DOM을 사용하는 것이다.

_하지만 동적 페이지가 아닌 단순 라우팅 위주의 정적 페이지는 리액트가 독이 될 수 있다!_

<br/>

**🌵 정리하자면, 리액트의 가장 큰 장점은  
최소한의 연산과 효율에서 오는 업데이트 처리 간결성이라 할 수 있다.**

<br/>
<br/>
<br/>
<br/>

### 🌲 어떻게 쓰는가?

Windows OS에서는 일단 **Node.js**를 설치한다.  
(Node.js는 웹 브라우저가 아닌 곳에서 자바스크립트 코드를
실행할 수 있는 런타임 환경이다. 언어가 아니다.)

개발자에게 맞는 IDE의 설치는 필수!

<br/>
<br/>

```cmd
npm init react-app <프로젝트 이름>
```

<br/>

그리고 터미널에서 위와 같이 명령하면  
브라우저에서 자동으로 리액트 페이지가 띄워진다.  
별도의 웹팩, 번들러의 설치나 조작 없이  
편리하게 리액트 프로그래밍을 할 수 있는 방법이다!
<br/>
<br/>
<br/>
