# 2021-09-23-Thu

<br/>

## 5. ì´ë²¤íŠ¸ í•¸ë“¤ë§

### ğŸ¶ ê°œìš”

**ì‚¬ìš©ìê°€ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ DOM ìš”ì†Œì™€ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ê²ƒì´ ì´ë²¤íŠ¸**ì´ë‹¤.  
ì´ëŸ¬í•œ **ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ í•˜ëŠ” ê²ƒì´ `ì´ë²¤íŠ¸ í•¸ë“¤ë§`** ì´ë‹¤.

<br/>
<br/>
<br/>
<br/>

### ğŸ± ì´ë²¤íŠ¸ ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­

#### ğŸº ì´ë²¤íŠ¸ ì´ë¦„ì€ ì¹´ë©œ í‘œê¸°ë²•ìœ¼ë¡œ ì‘ì„±í•œë‹¤.

`onClick`, `onKeyUp` ë“±ìœ¼ë¡œ ì‘ì„±í•´ì•¼ í•œë‹¤.

<br/>

#### ğŸº í•¨ìˆ˜ í˜•íƒœì˜ ê°’ì„ ì „ë‹¬í•œë‹¤.

HTMLì—ì„œì˜ ì´ë²¤íŠ¸ ì„¤ì •ì€ `"onclick=alert('ì•Œë¦¼!')"`ê³¼ ê°™ì´  
ìŒë”°ì˜´í‘œ ì•ˆì— ì‹¤í–‰í•  ì½”ë“œë¥¼ ë„£ì—ˆë‹¤.  
í•˜ì§€ë§Œ ë¦¬ì•¡íŠ¸ì—ì„œëŠ” í•¨ìˆ˜ ê°ì²´ë¥¼ ì „ë‹¬í•œë‹¤.  
ì´ í•¨ìˆ˜ëŠ” ë°”ë¡œ ì „ë‹¬ë„ ë˜ê³ , ë Œë”ë§ ì™¸ë¶€ì— ë¯¸ë¦¬ ë§Œë“¤ì–´ì„œ ì „ë‹¬ë„ ê°€ëŠ¥í•˜ë‹¤.

<br/>

#### ğŸº DOM ìš”ì†Œì—ë§Œ ì´ë²¤íŠ¸ë¥¼ ì„¤ì •í•œë‹¤.

ì§ì ‘ ë§Œë“  ì»´í¬ë„ŒíŠ¸ì—ëŠ” ì´ë²¤íŠ¸ ì„¤ì •ì´ ë¶ˆê°€í•˜ë‹¤.  
ë§Œì•½ `onClick`ì„ ì„¤ì •í•´ì¤€ë‹¤ë©´, ì´ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ  
ì´ë¦„ì´ `onClick`ì¸ `props`ë¥¼ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•˜ëŠ” ê²ƒì´ë‹¤.  
í•˜ì§€ë§Œ ì „ë‹¬ë°›ì€ propsë¥¼ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ DOM ì´ë²¤íŠ¸ë¡œ ì„¤ì • ê°€ëŠ¥í•˜ë‹¤.

<br/>
<br/>
<br/>
<br/>

### ğŸ­ ë¦¬ì•¡íŠ¸ì—ì„œ ì§€ì›í•˜ëŠ” ì´ë²¤íŠ¸ ì¢…ë¥˜

- Clipboard
- Touch
- Composition
- UI
- Keyboard
- Wheel
- Focus
- Media
- Form
- Image
- Mouse
- Animation
- Selection
- Transition

<br/>
<br/>
<br/>
<br/>

### ğŸ¹ ì´ë²¤íŠ¸ í•¸ë“¤ë§ ì‹¤ìŠµí•´ë³´ê¸°

<br/>

### ğŸ° 1. ì»´í¬ë„ŒíŠ¸ ìƒì„±

<br/>

**src/EventPractice.js**

```jsx
import React, { Component } from "react";

class EventPractice extends Component {
  render() {
    return (
      <div>
        <h1>ì´ë²¤íŠ¸ ì—°ìŠµ</h1>
      </div>
    );
  }
}

export default EventPractice;
```

<br/>

**src/App.js**

```jsx
import React from "react";
import EventPractice from "./EventPractice";

const App = () => {
  return <EventPractice />;
};

export default App;
```

<br/>

EventPractice ì»´í¬ë„ŒíŠ¸ë¥¼ í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ë¡œ ì‘ì„±í•˜ê³ ,  
App.js íŒŒì¼ì—ì„œ ë¶ˆëŸ¬ì™”ë‹¤.

<br/>
<br/>
<br/>
<br/>

### ğŸ° 2. onChange ì´ë²¤íŠ¸ ìƒì„±ê³¼ stateì— input ê°’ ë‹´ê¸°

```jsx
import React, { Component } from "react";

class EventPractice extends Component {
  state = {
    message: "",
  };
  // stateëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ë‚´ì¥ ê°ì²´ì´ë‹¤.

  render() {
    return (
      <div>
        <h1>ì´ë²¤íŠ¸ ì—°ìŠµ</h1>
        <input
          type="text"
          name="message"
          placeholder="ì•„ë¬´ê±°ë‚˜ ì…ë ¥í•´ ë³´ì„¸ìš”"
          value={this.state.message} // valueì— messageë¥¼ ì„¤ì •
          onChange={(e) => {
            this.setState({
              message: e.target.value, // ì…ë ¥í•  ë•Œë§ˆë‹¤ messageë¥¼ ì´ë²¤íŠ¸ íƒ€ê²Ÿì˜ valueë¡œ ë³€ê²½
            });
            console.log(this);
            // EventPractice {props: {â€¦}, context: {â€¦}, refs: {â€¦}, updater: {â€¦}, state: {â€¦}, â€¦}
          }}
        />
        <button
          onClick={() => {
            alert(this.state.message); // ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ stateì— ë‹´ê¸´ messageë¥¼ ì•Œë¦¼
            this.setState({
              message: "", // ê³µë°±ìœ¼ë¡œ ì´ˆê¸°í™”
            });
          }}
        >
          í™•ì¸
        </button>
      </div>
    );
  }
}

export default EventPractice;
```

<br/>
<br/>

- stateëŠ” ë‚´ì¥ ê°ì²´ë¼ëŠ” ê²ƒ!
  > https://homzzang.com/b/react-9

<br/>
<br/>

input ë°•ìŠ¤ì˜ ë‚´ìš©ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ `this.state.message`ì˜ ê°’ì„ ë³€ê²½í•œë‹¤.  
ì´ê²ƒì€ `onChange` ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ í†µí•´ ì´ë£¨ì–´ì§„ë‹¤!  
ê·¸ë¦¬ê³  í™•ì¸ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ `state`ë¥¼ ì´ˆê¸°í™”í•œë‹¤.

<br/>
<br/>

inputì— ë‚´ìš©ì„ ì…ë ¥í•˜ë©´ ì½˜ì†”ì—ì„œ ë‹¤ìŒ ë‚´ìš©ì„ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.

<br/>

<img src="../images/2021-09-23-ë¦¬ì•¡íŠ¸-ì´ë²¤íŠ¸-ì—°ìŠµ.png">

<br/>
<br/>

`SyntheticEvent`ì™€ `NativeEvent` ë‘ ì¢…ë¥˜ê°€ ìˆëŠ”ë°,  
ì´ ì´ë²¤íŠ¸ë“¤ì€ `SyntheticEvent`ì— ì†í•œë‹¤.  
ë‘˜ì˜ ì°¨ì´ë¥¼ ì•„ë˜ ì°¸ê³ ìë£Œë¥¼ í™œìš©í•˜ì—¬ ì•Œì•„ë³´ì•˜ë‹¤.  
ê²°ë¡ ì ìœ¼ë¡œ ì „ìëŠ” ë¸Œë¼ìš°ì €ë§ˆë‹¤ ê°™ì€ ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ í•œë‹¤ëŠ” ì .

<br/>

- SyntheticEventì™€ NativeEventì— ëŒ€í•˜ì—¬

  > https://ibocon.tistory.com/192

  > https://ipex.tistory.com/entry/React-%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%9D%98-%EC%9D%B4%EB%B2%A4%ED%8A%B8-epersist-aka-SyntheticEvent-If-you-must-keep-the-original-synthetic-event-around-use-eventpersist

<br/>
<br/>
<br/>
<br/>

### ğŸ° 3. ì„ì˜ ë©”ì„œë“œ ë§Œë“¤ê¸°

```jsx
import React, { Component } from "react";
class EventPractice extends Component {
  state = {
    message: "",
  };

  constructor(props) {
    super(props);
    this.handleChange = this.handleChange.bind(this);
    this.handleClick = this.handleClick.bind(this);
  }

  // í•¨ìˆ˜ë¥¼ ë¯¸ë¦¬ ë§Œë“¤ì–´ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ê°€ë…ì„±ì´ í›¨ì”¬ ë†’ë‹¤.
  handleChange(e) {
    this.setState({
      message: e.target.value,
    });
  }

  handleClick() {
    alert(this.state.message);
    this.setState({
      message: "",
    });
  }

  render() {
    return (
      <div>
        <h1>ì´ë²¤íŠ¸ ì—°ìŠµ</h1>
        <input
          type="text"
          name="message"
          placeholder="ì•„ë¬´ê±°ë‚˜ ì…ë ¥í•´ ë³´ì„¸ìš”"
          value={this.state.message}
          onChange={this.handleChange}
        />
        <button onClick={this.handleClick}>í™•ì¸</button>
      </div>
    );
  }
}

export default EventPractice;
```

<br/>
  
í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ thisëŠ” í˜¸ì¶œë¶€ì— ë”°ë¼ ê²°ì •ë˜ëŠ”ë°,   
**í´ë˜ìŠ¤ì˜ ì„ì˜ ë©”ì„œë“œê°€ ì´ë²¤íŠ¸ë¡œ ë“±ë¡ë  ë•Œ ë©”ì„œë“œì™€ thisì˜ ê´€ê³„ê°€ ëŠì–´ì§„ë‹¤.**   
ê·¸ëŸ¬ë¯€ë¡œ ì„ì˜ ë©”ì„œë“œê°€ thisë¥¼ ì»´í¬ë„ŒíŠ¸ ìì‹ ìœ¼ë¡œ ì œëŒ€ë¡œ ê°€ë¦¬í‚¤ê²Œ í•˜ê¸° ìœ„í•´ì„œëŠ”   
**ë©”ì„œë“œë¥¼ thisì™€ ë°”ì¸ë”©í•˜ëŠ” ì‘ì—…ì´ í•„ìš”**í•˜ê³ , ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ undefinedë¥¼ ê°€ë¦¬í‚¨ë‹¤.    
**bind() ë©”ì„œë“œë¡œ thisë¥¼ 'ê³ ì •'** ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

<br/>

ë©”ì„œë“œ ë°”ì¸ë”©ì€ ìƒì„±ì ë©”ì„œë“œì—ì„œ í•˜ëŠ” ê²ƒì´ ì •ì„ì´ê¸°ëŠ” í•˜ë‹¤.  
í•˜ì§€ë§Œ ìƒˆ ë©”ì„œë“œë¥¼ ë§Œë“¤ ë•Œë§ˆë‹¤ `constructor`ë¥¼ ìˆ˜ì •í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë¶ˆí¸í•  ìˆ˜ ìˆë‹¤.  
ì´ê²ƒì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë°”ë²¨ì˜ `transform-class-properties` ë¬¸ë²•ì„ ì‚¬ìš©í•œë‹¤.  
ë‹¤ìŒ 4ë²ˆì—ì„œ ì•Œì•„ë³´ê² ë‹¤.

<br/>

- bind() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì¼ì–´ë‚˜ëŠ” ì¼!
  > https://kamang-it.tistory.com/entry/JavaScript07this-this%EB%B0%94%EC%9D%B8%EB%93%9C%ED%8E%B8bindcallapply

<br/>
<br/>
<br/>
<br/>

### ğŸ° 4. ë°”ë²¨ì˜ `transform-class-properties` ë¬¸ë²•

```jsx
import React, { Component } from "react";
class EventPractice extends Component {
  state = {
    message: "",
  };

  // ë°”ë²¨ì˜ transform-class-properties ë¬¸ë²•,
  // í™”ì‚´í‘œ í•¨ìˆ˜ í˜•íƒœë¡œ ë©”ì„œë“œë¥¼ ì •ì˜í•œë‹¤.
  handleChange = (e) => {
    /* ì´ ë¶€ë¶„ì„ ë³€ê²½! */
    this.setState({
      message: e.target.value,
    });
  };

  handleClick = () => {
    /* ì´ ë¶€ë¶„ì„ ë³€ê²½! */
    alert(this.state.message);
    this.setState({
      message: "",
    });
  };
  render() {
    return (
      <div>
        <h1>ì´ë²¤íŠ¸ ì—°ìŠµ</h1>
        <input
          type="text"
          name="message"
          placeholder="ì•„ë¬´ê±°ë‚˜ ì…ë ¥í•´ ë³´ì„¸ìš”"
          value={this.state.message}
          onChange={this.handleChange}
        />
        <button onClick={this.handleClick}>í™•ì¸</button>
      </div>
    );
  }
}

export default EventPractice;
```

<br/>

`constructor`ì—ì„œì˜ ë©”ì„œë“œ ë°”ì¸ë”©ì„ ì œì™¸í•˜ê³ ,  
ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ í™”ì‚´í‘œ í•¨ìˆ˜ì‹ìœ¼ë¡œ ë°”ê¾¼ ë¬¸ë²•ì´ë‹¤.  
ë³„ë„ì˜ ë°”ì¸ë”©ì´ í•„ìš”ì—†ì–´ í¸ë¦¬í•´ë³´ì¸ë‹¤.

<br/>
<br/>
<br/>
<br/>

### ğŸ° 5. inputì´ ì—¬ëŸ¬ ê°œë¼ë©´?

```jsx
import React, { Component } from "react";

class EventPractice extends Component {
  state = {
    username: "",
    message: "",
  };

  handleChange = (e) => {
    this.setState({
      [e.target.name]: e.target.value â­ /* ì´ ë¶€ë¶„ì„ ë³€ê²½! */,
    });
  };

  handleClick = () => {
    alert(this.state.username + ": " + this.state.message);
    this.setState({
      username: "",
      message: "",
    });
  };
  render() {
    return (
      <div>
        <h1>ì´ë²¤íŠ¸ ì—°ìŠµ</h1>
        <input
          type="text"
          name="username" â­ /* ì´ ë¶€ë¶„ì„ ë³€ê²½! */
          placeholder="ì‚¬ìš©ìëª…"
          value={this.state.username}
          onChange={this.handleChange}
        />
        <input
          type="text"
          name="message" â­ /* ì´ ë¶€ë¶„ì„ ë³€ê²½! */
          placeholder="ì•„ë¬´ê±°ë‚˜ ì…ë ¥í•´ ë³´ì„¸ìš”."
          value={this.state.message}
          onChange={this.handleChange}
        />
        <button onClick={this.handleClick}>í™•ì¸</button>
      </div>
    );
  }
}

export default EventPractice;
```

<br/>

inputì´ ì—¬ëŸ¬ ê°œì¸ ê²½ìš°, e.target.nameì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.  
ê°ì²´ ì•ˆì—ì„œ í‚¤ë¥¼ []ë¡œ ê°ì‹¸ë©´ []ì— í•´ë‹¹í•˜ëŠ” ë ˆí¼ëŸ°ìŠ¤ì˜ ì‹¤ì œ ê°’ì´ í‚¤ ê°’ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.  
ì¦‰ inputì—ì„œ nameì„ usernameìœ¼ë¡œ ì§€ì •í–ˆì„ ê²½ìš°,  
**`[username]: e.target.value` ->**  
**`(this.state.)username = e.target.value`ê°€ ëœë‹¤.** (setStateì— ì˜í•´)

<br/>

ê²°ë¡ ì ìœ¼ë¡œ inputì˜ name ì†ì„±ê°’ì„ ë³€ê²½í•¨ìœ¼ë¡œì¨  
ê·¸ê²ƒì„ e.target.nameìœ¼ë¡œ í™œìš©í•˜ê³ , ê·¸ ì´ë¦„ì„ `this.state.~~`ìœ¼ë¡œ ì„¤ì • ê°€ëŠ¥í•˜ë‹¤.

<br/>
<br/>

#### ğŸ’‰ ì¶”ê°€ë¡œ ë‹¤ìŒ ë°©ì‹ìœ¼ë¡œ ì—”í„°í‚¤ë¥¼ ëˆ„ë¥´ë©´ í´ë¦­í•œ ê²ƒê³¼ ê°™ì´ ë™ì‘í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```jsx
// ì—”í„°í‚¤ë¥¼ ëˆ„ë¥´ë©´ handleClick() ë©”ì„œë“œë¥¼ í˜¸ì¶œ
handleKeyPress = (e) => {
  if (e.key === "Enter") { â­
    this.handleClick();
  }
};

...

onKeyPress={this.handleKeyPress}
```

<br/>
<br/>
<br/>
<br/>

### ğŸ° 6. í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë¡œë„ êµ¬í˜„í•´ë³´ê¸°

```jsx
import React, { useState } from "react";

const EventPractice = () => {
  const [username, setUsername] = useState(""); â­
  const [message, setMessage] = useState(""); â­
  const onChangeUsername = (e) => setUsername(e.target.value); â­
  const onChangeMessage = (e) => setMessage(e.target.value); â­
  const onClick = () => {
    alert(username + ": " + message);
    setUsername("");
    setMessage("");
  };
  const onKeyPress = (e) => {
    if (e.key === "Enter") {
      onClick();
    }
  };
  return (
    <div>
      <div>
        <h1>ì´ë²¤íŠ¸ ì—°ìŠµ</h1>
        <input
          type="text"
          name="username"
          placeholder="ì‚¬ìš©ìëª…"
          value={username}
          onChange={onChangeUsername}
        />
        <input
          type="text"
          name="message"
          placeholder="ì•„ë¬´ê±°ë‚˜ ì…ë ¥í•´ ë³´ì„¸ìš”."
          value={message}
          onChange={onChangeMessage}
          onKeyPress={onKeyPress}
        />
        <button onClick={onClick}>í™•ì¸</button>
      </div>
    </div>
  );
};

export default EventPractice;
```

<br/>

í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬í˜„í•˜ê¸° ìœ„í•´ `useState`ì™€ `setter`ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.  
`setter`ë¡œ `state`ë¥¼ ë³€ê²½í•˜ê¸° ë•Œë¬¸ì— `this.state` í‚¤ì›Œë“œë¥¼ ì“°ì§€ ì•Šê³ ,  
ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì— í•¨ìˆ˜ëª…ë§Œ ì§€ì •í•´ì¤€ ê²ƒì´ë‹¤.

<br/>
<br/>
<br/>
<br/>

### ğŸ° 7. useStateì— ë¬¸ìì—´ì´ ì•„ë‹Œ, ê°ì²´ ë„£ì–´ë³´ê¸°

```jsx
const [form, setForm] = useState({
  username: "",
  message: "",
});

const { username, message } = form;
const onChange = (e) => {
  const nextForm = {
    ...form, // â­ ê¸°ì¡´ form ë‚´ìš©ì„ ì—¬ê¸°ì— ë³µì‚¬í•œë‹¤.
    [e.target.name]: e.target.value, // â­ ì›í•˜ëŠ” ê°’ì„ ë®ì–´ ì”Œìš´ë‹¤.
    //
  };
  setForm(nextForm); // â­ form ê°’ì„ ë®ì–´ ì”Œìš´ë‹¤.
};
const onClick = () => {
  alert(username + ": " + message);
  setForm({
    username: "",
    message: "",
  });
};
```

<br/>

6ë²ˆì˜ `useState`ì— ë¬¸ìì—´ì´ ì•„ë‹ˆë¼ ê°ì²´ë¥¼ ë„£ì–´ë³´ì•˜ë‹¤.  
ì´ê²ƒì€ inputì˜ ê°’ì´ ì—¬ëŸ¬ ê°œì¸ ê²ƒì„ ê³ ë ¤í•´ì„œì´ë‹¤.

<br/>

`form` ê°ì²´ì— `username`, `message` í‚¤ë¥¼ ë„£ê³   
ê·¸ `form`ì„ ë³€ê²½í•  í•¨ìˆ˜ë¡œ `setForm`ì„ ì§€ì •í–ˆë‹¤.  
_ê°ì²´ í˜•ì‹ì˜ stateë¥¼ ë³€ê²½í•  ë•Œ, ê·¸ëƒ¥ ë³€ê²½í•˜ë©´ ì•ˆ ëœë‹¤._  
**ê¸°ì¡´ ê°ì²´ ì‚¬ë³¸ì„ ë³µì‚¬í•œ ë’¤, ì›í•˜ëŠ” ê°’ë§Œ ë®ì–´ ì”Œì›Œì•¼ í•œë‹¤.**

<br/>

ê°‘ìê¸° ì™œ ê·¸ëƒ¥ ë³€ê²½í•˜ë©´ ì•ˆë˜ëŠ”ì§€ ê¶ê¸ˆí•´ì¡ŒëŠ”ë°,  
ì´ëŠ” ë¶ˆë³€ì„±ê³¼ ê´€ë ¨ ìˆì–´ ë³´ì¸ë‹¤.  
ë‚´ì¼ ê´€ë ¨ ë‚´ìš©ì— ëŒ€í•´ ê³µë¶€ë¥¼ í•´ë´ì•¼ê² ë‹¤.

<br/>
<br/>
<br/>
